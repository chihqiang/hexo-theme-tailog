<article class="bg-white p-6 sm:p-8 rounded-xl shadow-lg transition hover:scale-[1.01] max-w-5xl mx-auto mt-8">
  <!-- 标题 -->
  <header class="mb-6 sm:mb-8">
    <h1 class="text-3xl sm:text-4xl font-bold mb-3 bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent">
      <%= page.title %>
    </h1>

    <% if (page.layout === 'post') { %>
      <div class="flex flex-wrap items-center text-gray-500 text-sm space-x-4">
        <span><%- date(page.date, "YYYY-MM-DD") %></span>

        <% if (page.wordcount) { %>
          <span><%= page.wordcount %> 字</span>
          <span><%= Math.ceil(page.wordcount / 300) %> 分钟阅读</span>
        <% } %>

        <% if (page.categories && page.categories.length) { %>
          <span>
            <% page.categories.forEach(function(cat, i){ %>
              <a href="<%= url_for(cat.path) %>" class="text-blue-600 hover:underline"><%= cat.name %></a><%= i < page.categories.length - 1 ? ', ' : '' %>
            <% }) %>
          </span>
        <% } %>

        <% if (page.tags && page.tags.length) { %>
          <span>
            <% page.tags.forEach(function(tag, i){ %>
              <a href="<%= url_for(tag.path) %>" class="text-blue-600 hover:underline"><%= tag.name %></a><%= i < page.tags.length - 1 ? ', ' : '' %>
            <% }) %>
          </span>
        <% } %>
      </div>
    <% } %>
  </header>

  <!-- 正文 -->
  <div class="article-content prose prose-base lg:prose-lg max-w-none">
    <%- page.content %>
  </div>
</article>

<script>
// 代码复制按钮逻辑
document.addEventListener('DOMContentLoaded', function () {
  document.querySelectorAll('figure.highlight pre').forEach(function (block) {
    const wrapper = block.parentElement;
    wrapper.style.position = 'relative';

    const btn = document.createElement('button');
    btn.textContent = '复制';
    btn.className = 'copy-btn absolute top-2 right-2 bg-blue-500 hover:bg-blue-600 text-white text-xs px-2 py-1 rounded transition';

    btn.addEventListener('click', function () {
      const code = block.innerText;
      navigator.clipboard.writeText(code).then(() => {
        btn.textContent = '已复制';
        setTimeout(() => btn.textContent = '复制', 1500);
      });
    });

    wrapper.appendChild(btn);
  });
});
</script>
